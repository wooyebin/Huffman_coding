# 허프만 트리란?
2019년 1학기 컴퓨터학개론 강의에서 배운 이론이다.

[설명 링크](https://wooyaggo.tistory.com/95)를 첨부하겠다.

과제가 허프만 인코딩을 매트랩으로 구현하는 것이었는데

교수님께서 내장함수를 사용해도 된다고 하셨지만 직접 처음부터 끝까지 짜보고 싶었다.

매트랩을 수업시간에 따로 배우지는 않아서 굉장히 어려웠지만

개인적으로 한 파이썬 스터디로 프로그래밍에 조금은 익숙해져있었기에

일주일정도 밤새 하니 완성할 수 있었다.

코드와 함께 그당시 냈던 레포트를 같이 첨부하겠다.

# 코드 설명

우선 'source_JPARK2019_vfinal.txt'은 교수님이 주신 랜덤한 알파벳의 파일이다.

이 파일을 이용해 해야할 것이 크게 2가지이다.

첫째, 허프만 인코딩 구현

둘째, 최적화 된 t값 찾기

### 허프만 트리 구현

알파벳에 이진수 코드를 부여할 필요는 없었다. 목표는 각 알파벳에 부여되는 코드의 길이이기 때문이다.

그렇기 때문에 각 알파벳의 층수만 알면 된다.

나는 파일을 처음부터 끝까지 조사하고 각 알파벳의 개수를 알아내서 확률을 구했다.

그 이후 확률을 sort 해주면서 인덱싱을 이용해 소스도 sort해주었고, 확률을 더해가면서 계속 sort 해주었다.

예를들어 a 0.3 b 0.3 c 0.4라면

  1. (a, b, c) (0.3, 0.3, 0.4)
  2. (c, ab) (0.4, 0.6)
  3. (cab) (1)
  
의 순서로 sort가 되는 것이다.

이것을 근거로 합쳐진 순서를 저장하는 방법은 합쳐진 두 알파벳 중 앞에 있는 알파벳을 따오는 것이다.

위와 같은 예를 들면

  1. ab
  2. ac
  
가 되는 것이다.

이러한 순서를 일렬로 계속 더해주면 abac가 되는데 2개씩 끊어서 각 알파벳의 층수를 구할 수 있었다.

  1. a와 b에 +1
  2. a와 b와 c에 +1
  
를 해줌으로서 자동으로 그의 층수가 나오기 때문이다.

물론 예외로 앞에서 합쳐진 알파벳 이외의 다른 알파벳이 합쳐질 수 있는데, 그것은 if문을 사용하여 걸러주어 보다 정확한 층수를 구할 수 있다.

### 최적화 된 t값 찾기

t의 값은 가장 코드길이가 작은 순간의 값인데, t이전에는 ASCII코드를 사용하고 이후는 허프만 코드를 사용하므로

t의 값에 7을 곱하고 그 이후에는 앞에서 구한 허프만 코드의 길이들을 곱해주면 총 코드의 길이를 알 수 있는데

이를 그래프로 나타내어 최소값을 찾아 그 순간의 t를 찾아낼 수 있었다.

# 느낀점
솔직히 진짜 너무 힘들었다. 그냥 내장함수 쓰나 직접 만드나 점수는 똑같은데 일주일동안 고생하면서 허프만 코드를 만들어낼 알고리즘도 쉽게 떠오르지 않았고 결과값도 잘 안나왔기 때문이다. 그런데 어느순간 결과값이 잘 나오기 시작했고 코드를 조금씩 고쳐가며 허프만 인코딩을 구현한 순간 너무 기뻤다. 대학에 들어와서 처음 한 대형 프로젝트였는데 결과가 잘 나와서 뿌듯함 그자체였다. 다만 한가지 아쉬운 점은 변수설정을 너무 알아보기 어렵게 했다는 것이다. 나는 그나마 내가 만든 것이라 알아보는 것이지 남들이 보면 이해하기 정말 힘들것이다. 첫 프로그래밍이여서 서툰것이 많이 드러난다. 시간날 때 코드를 다시보면서 변수설정을 좀 바꿔서 깔끔하게 만들어야겠다!
